кнсюмер считается отвалившимся если нет heartbeat в течении session.timeout.ms.
Частота с которой консьмеры сообщают про свое состояние задается в hertbeat.interval.ms.
max.poll.interval.ms - время в течении которого конюмер может бездействовать, прежде чем получить сообщение. Если оно вышло консюмер считается нерабочим!
Если неправильно указать параметры можно словить постоянный ребалланс!
что произойдет при отвале косюмера в консюмер группе.

Будет ребаланс.
stop the world!
переназначение партишнов консюмерам.

С 2.4 появилась пошаговая кооперативная ребалансировка. (через CooperativeStickyAssignor) Почитать.

антипаттерн:
Большие конюмер группы (100 например). При отказе консюмера будут ребалансироваться все консюмеры.
best practices:
1 конюмер группа на 1 топик. Не нужно назначать группе несколько топиков!


Retry topic паттерн.
консюмер не может прочитать сообщение, возможно одно из целого батча.
Это сообщение кладется в retry topic.
из retry topic читает Retry консюмер, возможно такой же, возможно с более сложной логикой.
если снова отказ то в retry topic 2.
Оттуда уже на отправку евента об ошибке админу.
Изучить паттерн! Возможно прям его и не стоит использовать. Могут быть проблемы.